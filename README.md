# LawAgent // AI æ³•å¾‹å…¬æ­£åŠ©æ‰‹

> åŸºäº **LlamaIndex ReAct Agent + SpoonAI + åŒºå—é“¾** çš„æ™ºèƒ½æ³•å¾‹åº”ç”¨ç³»ç»Ÿ  
> æ”¯æŒæ³•å¾‹æ£€ç´¢ã€æ™ºèƒ½é—®ç­”ã€åŒºå—é“¾å­˜è¯ä¸è¯æ®ä¸Šé“¾

---

## âœ¨ é¡¹ç›®ç®€ä»‹

**LawAgent** æ˜¯ä¸€ä¸ªä»¥ AI Agent ä¸ºæ ¸å¿ƒçš„æ³•å¾‹åº”ç”¨ç³»ç»Ÿï¼Œèåˆäº†ï¼š

- ğŸ¤– **ReAct Agent**ï¼šå¯è§£é‡Šã€å¤šæ­¥éª¤æ¨ç†çš„æ³•å¾‹æ™ºèƒ½é—®ç­”
- ğŸ“š **æ³•å¾‹æ¡æ–‡æ£€ç´¢**ï¼šåŸºäº RAG çš„æ°‘æ³•å…¸ç­‰æ³•å¾‹çŸ¥è¯†åº“æ£€ç´¢
- ğŸ”— **åŒºå—é“¾å­˜è¯**ï¼šæ–‡æœ¬ä¸æ–‡ä»¶è¯æ®ä¸Šé“¾ç¡®æƒï¼ˆSepolia / NeoX ç­‰ï¼‰
- ğŸ–¥ï¸ **å‰ç«¯ UI**ï¼šCyberJustice é£æ ¼çš„æ³•å¾‹å…¬æ­£ç»ˆç«¯ç•Œé¢

ç³»ç»ŸåŒ…å«å®Œæ•´çš„ **åç«¯ API** å’Œ **å‰ç«¯ç•Œé¢**ï¼Œå¯ç›´æ¥éƒ¨ç½²ä½¿ç”¨ã€‚

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      frontend/index.html                         â”‚
â”‚                 CyberJustice AI æ³•å¾‹å…¬æ­£ç»ˆç«¯                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Flask API (app.py)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  /api/chat              â”‚  ReAct Agent (search_laws + notarize)  â”‚
â”‚  /api/upload-evidence   â”‚  UserEvidenceUploadTool è¯æ®ä¸Šé“¾       â”‚
â”‚  /api/health            â”‚  å¥åº·æ£€æŸ¥                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ legal_skill   â”‚    â”‚ notary_skill     â”‚    â”‚ user_evidence_   â”‚
â”‚ (RAG æ³•å¾‹æ£€ç´¢) â”‚    â”‚ (æ–‡æœ¬å­˜è¯ä¸Šé“¾)   â”‚    â”‚ upload_agent     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ (æ–‡ä»¶è¯æ®ä¸Šé“¾)   â”‚
        â”‚                     â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â–¼                     â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ storage/      â”‚    â”‚ Sepolia / NeoX   â”‚    â”‚ SpoonAI + é“¾ä¸Š   â”‚
â”‚ å‘é‡ç´¢å¼•       â”‚    â”‚ æµ‹è¯•ç½‘           â”‚    â”‚ å­˜è¯åˆçº¦         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”‘ æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| **æ³•å¾‹æ™ºèƒ½é—®ç­”** | åŸºäº ReAct çš„æ£€ç´¢å¢å¼ºï¼Œè‡ªåŠ¨è°ƒç”¨ `search_laws` æ£€ç´¢æ¡æ–‡å¹¶å›ç­” |
| **æ–‡æœ¬å­˜è¯** | å¯¹æŒ‡å®šæ–‡æœ¬è®¡ç®—å“ˆå¸Œå¹¶ä¸Šé“¾ï¼ˆ`notarize_on_chain`ï¼‰ |
| **æ–‡ä»¶è¯æ®ä¸Šé“¾** | æ”¯æŒç”¨æˆ·ä¸Šä¼ æ–‡æ¡£/å›¾ç‰‡ç­‰ï¼Œé€šè¿‡ `UserEvidenceUploadTool` ä¸Šé“¾ |
| **å‰ç«¯ç»ˆç«¯** | CyberJustice é£æ ¼ UIï¼Œé›†æˆèŠå¤©ä¸å­˜è¯ç¡®æƒè¯ä¹¦å±•ç¤º |

---

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ app.py                  # ä¸»åç«¯å…¥å£ï¼ˆFlaskï¼Œå« chat + upload-evidence + healthï¼‰
â”œâ”€â”€ main.py                 # å¤‡é€‰å…¥å£ï¼ˆä»… chatï¼Œæ›´è½»é‡ï¼‰
â”œâ”€â”€ build_knowledge.py      # çŸ¥è¯†åº“æ„å»ºï¼šdata/*.pdf â†’ storage å‘é‡ç´¢å¼•
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ pyproject.toml
â”œâ”€â”€ .env.example
â”œâ”€â”€ frontend/
â”‚   â””â”€â”€ index.html          # CyberJustice å‰ç«¯ UI
â”œâ”€â”€ skills/
â”‚   â”œâ”€â”€ legal_skill.py      # search_lawsï¼ˆRAG æ³•å¾‹æ£€ç´¢ï¼‰
â”‚   â””â”€â”€ notary_skill.py     # notarize_on_chainï¼ˆæ–‡æœ¬å­˜è¯ï¼‰
â”œâ”€â”€ examples/
â”‚   â””â”€â”€ user_evidence_upload_agent.py   # æ–‡ä»¶è¯æ®ä¸Šé“¾å·¥å…·
â”œâ”€â”€ spoon_ai/               # SpoonAI æ¡†æ¶ï¼ˆAgent + Toolï¼‰
â”œâ”€â”€ data/
â”‚   â””â”€â”€ civil_code.pdf      # æ°‘æ³•å…¸ç­‰æ³•å¾‹æ–‡æ¡£
â””â”€â”€ storage/                # å‘é‡ç´¢å¼•ï¼ˆè¿è¡Œ build_knowledge.py åç”Ÿæˆï¼‰
```

---

## âš™ï¸ æŠ€æœ¯æ ˆ

- **LLM**ï¼šDeepSeekï¼ˆOpenAI å…¼å®¹æ¥å£ï¼‰
- **RAG**ï¼šLlamaIndex + BGE-small-zh-v1.5
- **Agent**ï¼šLlamaIndex ReActAgent
- **åç«¯**ï¼šFlask + CORS
- **åŒºå—é“¾**ï¼šWeb3.py / SpoonAIï¼ˆSepolia / NeoX æµ‹è¯•ç½‘ï¼‰
- **å‰ç«¯**ï¼šåŸç”Ÿ HTML/CSS/JS + Web3.js + html2canvas

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

- Python >= 3.9
- å·²é…ç½® DeepSeek API Keyï¼ˆæˆ–å…¼å®¹ OpenAI çš„ APIï¼‰

### 2. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` ä¸º `.env`ï¼Œè‡³å°‘é…ç½®ï¼š

```env
# LLMï¼ˆå¿…å¡«ï¼‰
OPENAI_API_KEY=sk-your-deepseek-api-key
OPENAI_BASE_URL=https://api.deepseek.com
MODEL_NAME=deepseek-chat

# åŒºå—é“¾å­˜è¯ï¼ˆä½¿ç”¨è¯æ®ä¸Šé“¾æ—¶å¿…å¡«ï¼‰
PRIVATE_KEY=0x-your-wallet-private-key
RPC_URL=https://sepolia.infura.io/v3/your_project_id
CHAIN_ID=11155111
```

> âš ï¸ åˆ‡å‹¿å°† `.env` æäº¤åˆ°ç‰ˆæœ¬åº“ã€‚

### 4. æ„å»ºçŸ¥è¯†åº“

é¦–æ¬¡ä½¿ç”¨å‰ï¼Œéœ€ä» `data/` ä¸‹çš„ PDF æ„å»ºå‘é‡ç´¢å¼•ï¼š

```bash
python build_knowledge.py
```

å°†æ³•å¾‹æ–‡æ¡£ï¼ˆå¦‚ `civil_code.pdf`ï¼‰æ”¾å…¥ `data/` ç›®å½•åæ‰§è¡Œä¸Šè¿°å‘½ä»¤ã€‚

### 5. å¯åŠ¨åç«¯

```bash
python app.py
```

åç«¯é»˜è®¤è¿è¡Œåœ¨ `http://localhost:5000`ã€‚

### 6. æ‰“å¼€å‰ç«¯

ç”¨æµè§ˆå™¨ç›´æ¥æ‰“å¼€ `frontend/index.html`ï¼Œæˆ–é€šè¿‡ä»»æ„é™æ€æœåŠ¡å™¨ï¼ˆå¦‚ `python -m http.server 8080`ï¼‰ serving `frontend/` ç›®å½•ã€‚

---

## ğŸ”Œ API è¯´æ˜

### æ³•å¾‹é—®ç­”

```http
POST /api/chat
Content-Type: application/json

{ "message": "å…¬å¸æ‹–æ¬ å·¥èµ„æ€ä¹ˆåŠï¼Ÿ" }
```

### è¯æ®ä¸Šä¼ ä¸Šé“¾

```http
POST /api/upload-evidence
Content-Type: multipart/form-data

evidence_file: <æ–‡ä»¶>
evidence_type: document | image | ...
evidence_source: user_upload
description: å¯é€‰æè¿°
```

### å¥åº·æ£€æŸ¥

```http
GET /api/health
```

---

## ğŸ›£ï¸ Roadmap

- [ ] å¤šè§’è‰² Agent
- [ ] ç»“æ„åŒ–å­˜è¯è¯ä¹¦ï¼ˆPDF å¯¼å‡ºï¼‰
- [ ] å¤šé“¾æ”¯æŒ
- [ ] æ³•å¾‹çŸ¥è¯†åº“æ‰©å±•

---

## ğŸ“œ License

MIT
